# TuneIQ Solution

Making Nigeria's music economy visible through data-driven analytics.

## Hackathon Project Overview

TuneIQ Solution addresses a critical gap in Nigeria's music industry: the lack of transparent, accessible data about our music's global reach and economic impact. By aggregating and analyzing streaming data across platforms, we make visible the true scale of Nigeria's cultural exports and highlight areas where value capture can be improved.

### Key Features

- **Multi-Platform Analytics**: Aggregates data from Spotify, YouTube, and Apple Music
- **Interactive Dashboard**: Intuitive UI with toggleable sections for focused analysis
- **Economic Impact Tracking**: Estimates direct revenue, indirect benefits, and cultural export value
- **Revenue Gap Analysis**: Identifies potential underpayment regions for investigation
- **Privacy-First Design**: Uses only country-level aggregated data, no personal information
- **Flexible Data Sources**: 
  - Sample Mode: Uses example data for demos and testing
  - Live Mode: Connects to real platform APIs when credentials are provided
- **Platform Performance Comparison**: Compare streaming metrics across different platforms
- **Dynamic Data Pipeline**: Robust data processing with automated tests

## Privacy & Data Handling

TuneIQ Solution is designed with privacy in mind:
- Only processes country-level aggregated data
- No individual user data or PII is collected
- All analysis happens locally in your environment
- API credentials are never stored, only used in memory during live sessions

### What We Can Do (TuneIQ's Capabilities Powered by APIs):

* **Understand Streaming Trends:**
    * **Spotify:** We tap into Spotify's popularity metrics to see which Nigerian songs and artists are trending, discover new releases, and track their spread globally.
    * **Apple Music:** We analyze Apple Music's catalog presence and editorial playlists to see how Nigerian music is curated and promoted, indicating emerging popularity.
    * **YouTube (including Music):** We monitor video view counts, engagement (likes, comments), and geographical viewership to identify viral content and understand audience behavior for Nigerian artists.
* **Estimate Royalty Flows:**
    * We combine estimated stream/view volumes from all platforms with industry-average payout rates for each service.
    * This allows us to create a **smart royalty estimator**, projecting potential earnings from Spotify streams, YouTube ad revenue, and Apple Music engagement, helping artists identify potential income and revenue gaps.
* **Measure Economic Impact:**
    * By aggregating global stream/view data, we assess Nigeria's market share in digital music and quantify the export value of our music to different countries.
    * We can highlight the unique economic contributions of visual content via YouTube and the premium subscriber base of Apple Music, painting a comprehensive picture for policymakers and investors.

### Our Limitations (Inherent to the APIs):

* **No Direct Royalty Statements:** **Crucially, none of the APIs provide an artist's actual royalty statements or exact earnings.** All royalty figures generated by TuneIQ Insight are **estimations** based on available public data and industry benchmarks.
* **Stream/View Count Estimates:** While we get good indicators, precise, real-time stream counts for every single track/artist are not always universally available from every API. We use advanced methods to infer and estimate these where direct access is limited.
* **API Rate Limits & Quotas:** Each platform restricts how much data we can request within a certain timeframe (e.g., Spotify's hourly limits, YouTube's daily quota). Our system is designed to manage these limitations efficiently.
* **Data Specificity:** While powerful, each API focuses on its platform's data. For instance, YouTube excels at video analytics, while Spotify offers richer audio feature data. We combine these diverse datasets to get a holistic view.

## Privacy & Data Handling

TuneIQ Solution is built with a strong commitment to privacy:

* Only processes country-level aggregated data.
* No individual user data or Personally Identifiable Information (PII) is collected or stored.
* All analysis happens locally within your environment.
* API credentials (like client IDs or secrets) are never stored on our servers; they are used in memory only during live data sessions on your machine.


## Setup Instructions

1. Create a Python virtual environment:
```powershell
python -m venv venv
.\venv\Scripts\activate  # Windows
source venv/bin/activate  # Unix/MacOS
```

2. Install dependencies:
```powershell
pip install -e .  # Install in development mode
pip install -r requirements.txt
```

3. Run tests (optional but recommended):
```powershell
pytest tests/
```

4. Run the dashboard:
```powershell
streamlit run app.py
```

The app will start in Sample Mode by default, using example streaming history data.

## Using Live Data Mode

To enable live data fetching:

1. **Spotify API Setup**:
   - Create a Spotify Developer account
   - Create an application to get Client ID and Secret
   - Enter credentials in the dashboard's Live Mode section

2. **YouTube Analytics API Setup**:
   - Set up a Google Cloud Project
   - Enable YouTube Analytics API
   - Create OAuth 2.0 credentials
   - Download and paste the credentials JSON in the dashboard

3. **Apple Music API Setup**:
   - Get an Apple Music Developer Token
   - Configure the token in the dashboard's Live Mode section

## Web Data Source (Web Scraping)

TuneIQ Insight now includes a **Web Scraping module** to fetch real-time streaming trends, artist news, and music-related content when API credentials are unavailable or to enrich existing data.

### Features

- **Multi-Source Scraping**: Pulls data from Google News, Genius Lyrics, and AllMusic
- **Graceful Fallback**: Works seamlessly as a fallback when APIs aren't available
- **Data Enrichment**: Enhances streaming analytics with web-sourced insights
- **Robust Error Handling**: Network errors and missing data are handled gracefully with detailed logging
- **Artist Search**: Enter any artist name to scrape trending data and news mentions

### How to Use

1. Click **üìä Data Configuration** in the dashboard
2. Scroll to the **Web Data Source** section
3. Enter an artist name (default: "Burna Boy")
4. Click **üîç Scrape Web Data**
5. Review results in the expandable preview panel

### Data Returned

The web scraper collects:
- **Artist Name**: The queried artist
- **Title**: Song, news, or content title
- **URL**: Direct link to the source
- **Source**: Platform (Google News, Genius Lyrics, AllMusic)
- **Snippet**: Brief description or preview
- **Date Fetched**: Timestamp of the scrape

### Example

```python
from web_scraper import scrape_music_trends
import pandas as pd

# Fetch web data for an artist
results_df = scrape_music_trends("Burna Boy", max_results=10)
print(results_df)
```

### Limitations

- Web scraping is subject to website rate limits and robots.txt policies
- Data is best-effort; some websites may block or change structure
- Not a replacement for official APIs; use as enrichment or demo data only
- Results depend on current internet connection and website availability

### Integration with Data Pipeline

The web scraper is integrated into `data_pipeline.py` via two functions:

```python
# Fetch standalone web data
from data_pipeline import fetch_live_data
web_data = fetch_live_data(source="web", artist_name="Wizkid")

# Enrich existing streaming data with web insights
from data_pipeline import enrich_data_with_web
enriched_df = enrich_data_with_web(streaming_df, "Wizkid")
```

## Contributing

This project is part of our effort to bring transparency to Nigeria's music economy. We welcome contributions that help:
- Improve data accuracy
- Add new platforms and data sources
- Enhance visualizations
- Expand economic impact analysis
- Improve web scraping coverage and reliability

## License

MIT License - See LICENSE file for details

```
